<!DOCTYPE html>
<html>
  <head lang="en">
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="fabiantheblind.info" />
    <meta name="author" content="fabiantheblind" />
    <title>Connected Nodes Illustrator Javascript Animated</title>
    <!-- TypeKit -->
    <script type="text/javascript" src="http://use.typekit.com/jdb0zac.js"></script>
    <script type="text/javascript">
    try{Typekit.load();}catch(e){}
    </script>
    <!-- css -->
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css"  type="text/css">
    <link rel="stylesheet" href="/assets/css/main.css" type="text/css" />
    <!-- <link rel="stylesheet" href="assets/css/syntax.css" type="text/css" /> -->
    <link rel="stylesheet" href="/assets/css/responsive.css" type="text/css" />
    <link rel="stylesheet" href="/assets/css/font-awesome.css" type="text/css" />
    <link rel="stylesheet" href="/assets/css/prettyPhoto.css" type="text/css" media="screen" />
    <!-- scripts -->
    <!-- <script type="text/javascript" src="assets/js/modernizr.custom.70055.js"></script> -->
    <script type="text/javascript" src="/assets/js/jquery-1.8.0.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.prettyPhoto.js"></script>
    <script type="text/javascript" src="/assets/js/main.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.fittext.js"></script>
    <!-- Google Analytics -->

<script type="text/javascript">
function getBaseURL() {
    var url = location.href;  // entire url including querystring - also: window.location.href;
    var baseURL = url.substring(0, url.indexOf('/', 14));


    if (baseURL.indexOf('http://localhost') != -1) {
        // Base Url for localhost
        var url = location.href;  // window.location.href;
        var pathname = location.pathname;  // window.location.pathname;
        var index1 = url.indexOf(pathname);
        var index2 = url.indexOf("/", index1 + 1);
        var baseLocalUrl = url.substr(0, index2);

        return baseLocalUrl + "/";
    }
    else {
        // Root Url for domain name
        return baseURL + "/";
    }

}

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-49261589-1']);
  _gaq.push(['_setDomainName', getBaseURL()]);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>



<link rel="" type="application/atom+xml" title="blog" href="/atom.xml" />
  </head>
  <body>
    <div class="container">
      <section>
<!--
this gets included in project
settigns also come from _layouts/project
-->
<div class="row menu" id="menu">
  <div class="span12">
<nav>
<ul class="navi">
  
  <li class="navi-item">
    <a href="/about.html" title="About me">
      <img  src="/assets/images/thumbnails/gravatar-thumb.jpg" alt="About me" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="/motiongraphics.html" title="Motion Graphics">
      <img  src="/assets/images/thumbnails/motiongrfx-thumb.gif" alt="Motion Graphics" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="/codinggraphics.html" title="Coding Graphics">
      <img  src="/assets/images/thumbnails/codinggrfx-thumb.jpg" alt="Coding Graphics" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="/locations.html" title="Locations for AE">
      <img  src="/assets/images/thumbnails/locations-thumb.jpg" alt="Locations for AE" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="/aemap.html" title="AEMap for AE">
      <img  src="/assets/images/thumbnails/aemap-thumb.jpg" alt="AEMap for AE" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="/tangiblemaps.html" title="Tangible Maps">
      <img  src="/assets/images/thumbnails/tmkt-thumb.jpg" alt="Tangible Maps" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="/monoline-text.html" title="Monoline Text for AE">
      <img  src="/assets/images/thumbnails/monolinetext-thumb.jpg" alt="Monoline Text for AE" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="/swissd.html" title="Swissd for AE">
      <img  src="/assets/images/thumbnails/swissd-thumb.jpg" alt="Swissd for AE" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="/typography-and-automation.html" title="Typography and Automation">
      <img  src="/assets/images/thumbnails/autotypo-thumb.jpg" alt="Typography and Automation" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="/incom-org-2-layout.html" title="Incom.org 2 Layout">
      <img  src="/assets/images/thumbnails/incomorg2layout-thumb.jpg" alt="Incom.org 2 Layout" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="/misc.html" title="This Website">
      <img  src="/assets/images/thumbnails/misc-thumb.jpg" alt="This Website" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="/connected-nodes.html" title="Connected Nodes">
      <img  src="/assets/images/thumbnails/nodes-thumb.jpg" alt="Connected Nodes" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="https://github.com/fabiantheblind/batch-find-and-replace" title="Batch Find and Replace (You are leaving my site! Bye bye)">
      <img  src="/assets/images/thumbnails/bfnr-thumb.jpg" alt="Batch Find and Replace (You are leaving my site! Bye bye)" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="http://aescripts.com/obj-vertex-export/" title="Obj Vertex Export for AE (You are leaving my site! Bye bye)">
      <img  src="/assets/images/thumbnails/obj-thumb.jpg" alt="Obj Vertex Export for AE (You are leaving my site! Bye bye)" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="http://fabiantheblind.github.io/Illustrator-Javascript-Voronoi/" title="Voronoi Diagramms in AI (You are leaving my site! Bye bye)">
      <img  src="/assets/images/thumbnails/voronoi-thumb.jpg" alt="Voronoi Diagramms in AI (You are leaving my site! Bye bye)" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="http://fabiantheblind.github.io/wihihihiggle/" title="wihihihiggle.jsx for AE (You are leaving my site! Bye bye)">
      <img  src="/assets/images/thumbnails/whihihiggle-thumb.jpg" alt="wihihihiggle.jsx for AE (You are leaving my site! Bye bye)" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="http://fabiantheblind.github.io/NextTypoStandard/" title="FHP NextTypoStandard (You are leaving my site! Bye bye)">
      <img  src="/assets/images/thumbnails/nexttypo-thumb.jpg" alt="FHP NextTypoStandard (You are leaving my site! Bye bye)" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="http://aescripts.com/timeremap-source/" title="timeremap-source.jsx for AE  (You are leaving my site! Bye bye)">
      <img  src="/assets/images/thumbnails/timeremap-thumb.jpg" alt="timeremap-source.jsx for AE  (You are leaving my site! Bye bye)" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="https://github.com/fabiantheblind/open-close-mask" title="open-close-mask.jsx for AE  (You are leaving my site! Bye bye)">
      <img  src="/assets/images/thumbnails/ocmask-thumb.gif" alt="open-close-mask.jsx for AE  (You are leaving my site! Bye bye)" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="http://fabiantheblind.github.io/The-Geo-Beast/" title="The-Geo-Beast.jsx for AE  (You are leaving my site! Bye bye)">
      <img  src="/assets/images/thumbnails/thebeast-thumb.jpg" alt="The-Geo-Beast.jsx for AE  (You are leaving my site! Bye bye)" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="https://github.com/fabiantheblind/x-true-da" title="x-true-da.jsx for AE  (You are leaving my site! Bye bye)">
      <img  src="/assets/images/thumbnails/xtrueda-thumb.jpg" alt="x-true-da.jsx for AE  (You are leaving my site! Bye bye)" class="menuicon">
  </a>
  </li>
  
  <li class="navi-item">
    <a href="http://fabiantheblind.github.io/TMN_UE_Laerm/" title="UELärm for MS Surface  (You are leaving my site! Bye bye)">
      <img  src="/assets/images/thumbnails/uelaerm-thumb.jpg" alt="UELärm for MS Surface  (You are leaving my site! Bye bye)" class="menuicon">
  </a>
  </li>
  
</ul>
</nav>
  </div>
</div>
<hr>

<div class="row">
  <div class="span8 offset2">
<h2>Connected Nodes Illustrator Javascript Animated</h2>
<span>07 Sep 2011</span><br>
  <hr>
<p>// connectedNodes.jsx
// see the video to this script over at vimeo
// http://vimeo.com/28665864 (lowres)
// the nodes get connected by their distance to each other
// if a node connects the range it can connect with other nodes increases
// color and opacity also change according to the connections
//
// see also the processing code --> http://fabiantheblind.tumblr.com/post/9878896421/connected-nodes-processing
//
// Copyright (C) 2011 Fabian "fabiantheblind" Morón Zirfas
// http://www.the-moron.net
// info [at] the - moron . net
// This program is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// any later version.
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
// You should have received a copy of the GNU General Public License
// along with this program.  If not, see
// illustrator
main();
function main(){
var DEBUG = true;
//the more nodes the more it will bee connected
// number of nodes. Between 1500 and 2500 is nice
// or you sice up the documentsize
var num = 50;
var distance = 5; // the startin distance to reach for others
// this is the factor that increments the "reach / distance"
// a node can connect with others
var incrFac = 2; // keep this very low
var frames = 10;
var nodes = new Array(); // an array to keep the nodes in
// some defaults
var w = 100;
var h = 50;
  // this initalizes the nodes  <br/>
    // loop thru num o nodes
    for(var i = 0; i &lt; num; i++){
      // make a random points
      var x = Math.random()w;
      var y = Math.random()h;
      var pos = [x,y];// position into PVector
       nodes.push(pos); // add the new node to the list
    }// close first loop
for(var fr = 0; fr &lt; frames; fr++){
var docPreset = new DocumentPreset;
docPreset.width = w;
docPreset.height = h;
docPreset.units = RulerUnits.Pixels;
var doc = documents.addDocument(DocumentColorSpace.RGB, docPreset);
var width = doc.width;
var height = doc.height;
doc.defaultStrokeCap = StrokeCap.ROUNDENDCAP;
// colors
var fillColor = new RGBColor;
fillColor.red = 190;
fillColor.green = 190;
fillColor.blue = 190;
var strkColor = new RGBColor;
strkColor.red = 128;
strkColor.green = 128;
strkColor.blue = 128;
var n;// keep it clear
  for(var j = 0; j &lt; nodes.length; j++){
    var f = 190; // the inital colorvalue
    var fillColor = new RGBColor;
        fillColor.red = f;
        fillColor.green = f;
        fillColor.blue = f;
        n = nodes[j];
        var diam = 3;// start diameter
        var o = 23; // start opacity
    // call the functions of node
  var cons = 0; // number of connections
  for(var k = 0; k &lt; nodes.length; k ++){
      var  v1 = n; // position of the refrence positoin
      var  v2 = nodes[k]; // every other node
      // these are the points of the node and the
      // other nodes in the loop
      // only for testing
      var x =  v1[0];
      var y =  v1[1];
      var x0 = v2[0];
      var y0 = v2[1];
      var d = calcDistance(n,nodes[k]);// clac distance
      // now if the node already has some connections
      // make the diastance he can check higher
      if((d &lt; distance +consincrFac ) &amp;&amp;(d > 1)){
          // create the lines
       var myLine = doc.pathItems.add();
        myLine.stroked = true;
        myLine.setEntirePath( Array(nodes[k], n));
        myLine.strokeColor = strkColor;
        myLine.filled = false;
        myLine.strokeWidth = 0.5;
        myLine.opacity = o;
       var lnsTags = myLine.tags.add();
     lnsTags.name = "line";
              // now there is a connection
              // so increment all the values
                cons++; // increment num
                diam+=0.25;
                o++;
                f++; // or decrement. as you like (this makes it lighter)
                // constrain the opacity
                if(o >= 90){
                    o = 90;
                    }// close opacity constrain
      }// close if
  }  //close loop K
    // create the node / ellipse
    var ell = doc.pathItems.ellipse(n[1] + diam/2,n[0] -diam/2, diam, diam, true,true );
    if(f &lt;=0){f=0;}// constrain f (fillcolor)
    if(f >=255){f=255;}// constrain f (fillcolor)
    fillColor.red = f;
    fillColor.green = f;
    fillColor.blue = f;
    ell.fillColor = fillColor;
     ell.strokeColor = strkColor;
     ell.strokeWidth = 0.5;
     ell.opacity = o;
     var ellsTag = ell.tags.add();
     ellsTag.name = "ellipse";
  } // close loop J
    for(var l = 0; l &lt; doc.pathItems.length; l++){
    var p = doc.pathItems[l];
    if(p.tags[0].name.match("ellipse")){
        p.zOrder(ZOrderMethod.BRINGTOFRONT);
        }
    } // end L loop  <br/>
    // update the nodes position
    updateNodes(nodes,w,h);
    $.writeln(fr);
   }// close frame loop
}// close main
// found on the web
// http://www.mathopenref.com/coorddist.html
function calcDistance  ( p, q){
  var dx   = p[0] - q[0];         //horizontal difference
  var dy   = p[1] - q[1];         //vertical difference
  var dist = Math.sqrt( dxdx + dy*dy ); //distance using Pythagoras theorem
  return dist;
}
// this shifts the nodes around
function updateNodes(nodes,w,h){
    for(var m = 0; m &lt; nodes.length; m++){
        var n = nodes[m];
        n[0] = n[0] + Math.random() * 2 - 1;
        n[1] = n[1] + Math.random() * 2 - 1;
        checkEdges(n,w,h);
        }
    }
function checkEdges(n,w,h){
     if (n[0] > w) {
      n[0] = 0;
    } else if (n[0] &lt; 0) {
      n[0] = w;
    } // X
    if (n[1] > h) {
      n[1] = 0;
    } else if (n[1] &lt; 0) {
      n[1] = h;
    }// Y
    }</p>


  </div>
</div>
  <hr>
<div class="row">
  <div class="span10 offset1">
  <p id="foot">
     This site is generated with <a href="http://pages.github.com">gh-pages</a>, <a href="http://jekyllrb.com">jekyll</a> and <a href="http://twitter.github.com/bootstrap/index.html">twitter bootstrap</a> by <a href="http://fabiantheblind.info">fabiantheblind</a>.<br> Get the source files <a href="https://github.com/fabiantheblind/fabiantheblind.github.com">over here</a>. Oh. I almost forgot that boring legal stuff called <a href="/impressum.html">impressum</a>.</p>

</div>
</div>

<div class="row">
  <div class="span10 offset1">

       <div class="connect" id="social">

        <span>&nbsp;</span>
  <!--       <a href="http://www.delicious.com/fabiantheblind">delicious</a> -->
        <a href="/atom.xml">
          <img src="/assets/images/rss.png" alt="rss icon"/>
        </a>

        <span>&nbsp;</span>
  <!--       <a href="http://www.delicious.com/fabiantheblind">delicious</a> -->
        <a href="https://github.com/fabiantheblind">
          <img src="/assets/images/github.png" alt="tiny icon"/>
        </a>
        <span>&nbsp;</span>
        <a href="http://vimeo.com/fabiantheblind">
          <img src="/assets/images/vimeo.png" alt="tiny icon"/>
        </a>
        <span>&nbsp;</span>
        <a href="https://pinboard.in/u:fabiantheblind">
          <img src="/assets/images/pinboard.png" alt="tiny icon"/>
        </a>
        <span>&nbsp;</span>
        <a href="http://www.linkedin.com/pub/fabian-mor%C3%B3n-zirfas/6a/832/528">
          <img src="/assets/images/linked_in.png" alt="tiny icon"/>
        </a>
        <span>&nbsp;</span>

        <a href="http://twitter.com/fabiantheblind">
          <img src="/assets/images/twitter.png"  alt="tiny icon"/>
        </a>
        <span>&nbsp;</span>
        <a href="http://www.flickr.com/photos/fabiantheblind/show/">
          <img src="/assets/images/flickr.png"  alt="tiny icon"/>
        </a>
        <span>&nbsp;</span>
        <a href="http://fabiantheblind.tumblr.com/">
          <img src="/assets/images/tumblr.png"  alt="tiny icon"/>
        </a>
        <span>&nbsp;</span>
        <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#104;&#101;&#108;&#108;&#111;&#64;&#102;&#97;&#98;&#105;&#97;&#110;&#116;&#104;&#101;&#98;&#108;&#105;&#110;&#100;&#46;&#105;&#110;&#102;&#111;">
          <img src="/assets/images/e-mail.png"  alt="tiny icon"/>
        </a>
        <span>&nbsp;</span>
  </div>
  </div>
</div>

</section>

    </div>

    <!-- scripts -->
    <script type="text/javascript">
    $(document).ready(function(){

      var prettyPhotoSettings = {
        social_tools:'',
        default_width: 1000,
        default_height: 562,
        opacity: 0.95, /* Value between 0 and 1 */
        show_title: false, /* true/false */
        deeplinking: false,
        slideshow: false
      };
       $("a[rel^='prettyPhoto']").prettyPhoto(prettyPhotoSettings);

    });
    </script>
  </body>
</html>